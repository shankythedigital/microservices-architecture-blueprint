openapi: 3.0.3
info:
  title: Asset Management Service API
  description: |
    Asset Management Service API
    
    Comprehensive asset lifecycle management including:
    - Asset CRUD operations
    - Master data management (Categories, Makes, Models, Vendors, etc.)
    - User-Asset linking
    - Compliance and validation
    - Document management
    - Warranty and AMC management
    - Audit logging
  version: 1.0.0
  contact:
    name: API Support
    email: support@example.com

servers:
  - url: http://localhost:8082
    description: Local development server
  - url: https://api.example.com/asset-service
    description: Production server

tags:
  - name: Assets
    description: Asset CRUD operations
  - name: Master Data
    description: Master data management (Categories, Makes, Models, etc.)
  - name: Vendors
    description: Vendor management
  - name: Outlets
    description: Purchase outlet management
  - name: Components
    description: Asset component management
  - name: User Links
    description: User-Asset linking operations
  - name: Compliance
    description: Compliance and validation operations
  - name: Documents
    description: Document management
  - name: Warranty
    description: Warranty management
  - name: AMC
    description: Annual Maintenance Contract management
  - name: Audit
    description: Audit logging
  - name: Status
    description: Status master data
  - name: Entity Types
    description: Entity type master data

paths:
  # ============================================================
  # ASSET ENDPOINTS
  # ============================================================
  /api/asset/v1/assets:
    post:
      tags:
        - Assets
      summary: Create a new asset
      description: Create a new asset with category, make, model, and other details
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssetRequest'
      responses:
        '200':
          description: Asset created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseWrapper'
        '400':
          description: Bad request
        '500':
          description: Internal server error

    get:
      tags:
        - Assets
      summary: List all assets
      description: Get a paginated list of all assets
      security:
        - bearerAuth: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 0
        - name: size
          in: query
          schema:
            type: integer
            default: 20
        - name: sort
          in: query
          schema:
            type: string
      responses:
        '200':
          description: List of assets
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/AssetMaster'

  /api/asset/v1/assets/{id}:
    get:
      tags:
        - Assets
      summary: Get asset by ID
      description: Get asset details by ID
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Asset found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseWrapper'
        '404':
          description: Asset not found

    put:
      tags:
        - Assets
      summary: Update asset
      description: Update an existing asset
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssetRequest'
      responses:
        '200':
          description: Asset updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseWrapper'
        '404':
          description: Asset not found

    delete:
      tags:
        - Assets
      summary: Delete asset
      description: Soft delete an asset
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Asset deleted successfully
        '404':
          description: Asset not found

  # ============================================================
  # CATEGORY ENDPOINTS
  # ============================================================
  /api/asset/v1/categories:
    get:
      tags:
        - Master Data
      summary: List all categories
      description: Get a list of all product categories
      responses:
        '200':
          description: List of categories
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseWrapper'

    post:
      tags:
        - Master Data
      summary: Create category
      description: Create a new product category
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CategoryRequest'
      responses:
        '200':
          description: Category created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseWrapper'

  /api/asset/v1/categories/{id}:
    get:
      tags:
        - Master Data
      summary: Get category by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Category found
        '404':
          description: Category not found

    put:
      tags:
        - Master Data
      summary: Update category
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CategoryRequest'
      responses:
        '200':
          description: Category updated

    delete:
      tags:
        - Master Data
      summary: Delete category
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Category deleted

  /api/asset/v1/categories/bulk:
    post:
      tags:
        - Master Data
      summary: Bulk create categories
      description: Create multiple categories in a single request
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/CategoryRequest'
      responses:
        '200':
          description: Bulk creation completed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BulkUploadResponse'

  /api/asset/v1/categories/upload-excel:
    post:
      tags:
        - Master Data
      summary: Upload categories via Excel
      description: Bulk upload categories from Excel file
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
      responses:
        '200':
          description: Excel uploaded and processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BulkUploadResponse'

  # ============================================================
  # SUBCATEGORY ENDPOINTS
  # ============================================================
  /api/asset/v1/subcategories:
    get:
      tags:
        - Master Data
      summary: List all subcategories
      responses:
        '200':
          description: List of subcategories

    post:
      tags:
        - Master Data
      summary: Create subcategory
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SubCategoryRequest'
      responses:
        '200':
          description: Subcategory created

  /api/asset/v1/subcategories/{id}:
    get:
      tags:
        - Master Data
      summary: Get subcategory by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Subcategory found

    put:
      tags:
        - Master Data
      summary: Update subcategory
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SubCategoryRequest'
      responses:
        '200':
          description: Subcategory updated

    delete:
      tags:
        - Master Data
      summary: Delete subcategory
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Subcategory deleted

  # ============================================================
  # MAKE ENDPOINTS
  # ============================================================
  /api/asset/v1/makes:
    get:
      tags:
        - Master Data
      summary: List all makes
      responses:
        '200':
          description: List of makes

    post:
      tags:
        - Master Data
      summary: Create make
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MakeRequest'
      responses:
        '200':
          description: Make created

  /api/asset/v1/makes/{id}:
    get:
      tags:
        - Master Data
      summary: Get make by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Make found

    put:
      tags:
        - Master Data
      summary: Update make
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MakeRequest'
      responses:
        '200':
          description: Make updated

    delete:
      tags:
        - Master Data
      summary: Delete make
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Make deleted

  # ============================================================
  # MODEL ENDPOINTS
  # ============================================================
  /api/asset/v1/models:
    get:
      tags:
        - Master Data
      summary: List all models
      responses:
        '200':
          description: List of models

    post:
      tags:
        - Master Data
      summary: Create model
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModelRequest'
      responses:
        '200':
          description: Model created

  /api/asset/v1/models/{id}:
    get:
      tags:
        - Master Data
      summary: Get model by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Model found

    put:
      tags:
        - Master Data
      summary: Update model
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModelRequest'
      responses:
        '200':
          description: Model updated

    delete:
      tags:
        - Master Data
      summary: Delete model
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Model deleted

  # ============================================================
  # VENDOR ENDPOINTS
  # ============================================================
  /api/asset/v1/vendors:
    get:
      tags:
        - Vendors
      summary: List all vendors
      responses:
        '200':
          description: List of vendors

    post:
      tags:
        - Vendors
      summary: Create vendor
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VendorRequest'
      responses:
        '200':
          description: Vendor created

  /api/asset/v1/vendors/{id}:
    get:
      tags:
        - Vendors
      summary: Get vendor by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Vendor found

    put:
      tags:
        - Vendors
      summary: Update vendor
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VendorRequest'
      responses:
        '200':
          description: Vendor updated

    delete:
      tags:
        - Vendors
      summary: Delete vendor
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Vendor deleted

  /api/asset/v1/vendors/bulk:
    post:
      tags:
        - Vendors
      summary: Bulk create vendors
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/VendorRequest'
      responses:
        '200':
          description: Bulk creation completed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BulkUploadResponse'

  /api/asset/v1/vendors/upload-excel:
    post:
      tags:
        - Vendors
      summary: Upload vendors via Excel
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
      responses:
        '200':
          description: Excel uploaded and processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BulkUploadResponse'

  # ============================================================
  # OUTLET ENDPOINTS
  # ============================================================
  /api/asset/v1/outlets:
    get:
      tags:
        - Outlets
      summary: List all outlets
      responses:
        '200':
          description: List of outlets

    post:
      tags:
        - Outlets
      summary: Create outlet
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OutletRequest'
      responses:
        '200':
          description: Outlet created

  /api/asset/v1/outlets/{id}:
    get:
      tags:
        - Outlets
      summary: Get outlet by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Outlet found

    put:
      tags:
        - Outlets
      summary: Update outlet
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OutletRequest'
      responses:
        '200':
          description: Outlet updated

    delete:
      tags:
        - Outlets
      summary: Delete outlet
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Outlet deleted

  # ============================================================
  # COMPONENT ENDPOINTS
  # ============================================================
  /api/asset/v1/components:
    get:
      tags:
        - Components
      summary: List all components
      responses:
        '200':
          description: List of components

    post:
      tags:
        - Components
      summary: Create component
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ComponentRequest'
      responses:
        '200':
          description: Component created

  /api/asset/v1/components/{id}:
    get:
      tags:
        - Components
      summary: Get component by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Component found

    put:
      tags:
        - Components
      summary: Update component
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ComponentRequest'
      responses:
        '200':
          description: Component updated

    delete:
      tags:
        - Components
      summary: Delete component
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Component deleted

  # ============================================================
  # USER LINK ENDPOINTS
  # ============================================================
  /api/asset/v1/userlinks/link:
    post:
      tags:
        - User Links
      summary: Link entity to user
      description: Link an asset, component, or other entity to a user
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssetUserUniversalLinkRequest'
      responses:
        '200':
          description: Entity linked successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseWrapper'

  /api/asset/v1/userlinks/delink:
    post:
      tags:
        - User Links
      summary: Delink entity from user
      description: Remove the link between an entity and a user
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssetUserUniversalLinkRequest'
      responses:
        '200':
          description: Entity delinked successfully

  /api/asset/v1/userlinks/multi-link:
    post:
      tags:
        - User Links
      summary: Link multiple entities
      description: Link multiple entities to a user in a single request
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssetUserMultiLinkRequest'
      responses:
        '200':
          description: Entities linked successfully

  /api/asset/v1/userlinks/multi-delink:
    post:
      tags:
        - User Links
      summary: Delink multiple entities
      description: Remove links between multiple entities and a user
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssetUserMultiDelinkRequest'
      responses:
        '200':
          description: Entities delinked successfully

  /api/asset/v1/userlinks/user/{userId}/assets:
    get:
      tags:
        - User Links
      summary: Get assets assigned to user
      description: Get all assets assigned to a specific user
      security:
        - bearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: List of assets
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AssetMaster'

  # ============================================================
  # COMPLIANCE ENDPOINTS
  # ============================================================
  /api/asset/v1/compliance/check:
    post:
      tags:
        - Compliance
      summary: Run compliance check
      description: Run compliance validation on an entity
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ComplianceCheckRequest'
      responses:
        '200':
          description: Compliance check completed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ComplianceCheckResult'

  /api/asset/v1/compliance/status/{entityType}/{entityId}:
    get:
      tags:
        - Compliance
      summary: Get compliance status
      description: Get the compliance status of an entity
      security:
        - bearerAuth: []
      parameters:
        - name: entityType
          in: path
          required: true
          schema:
            type: string
        - name: entityId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Compliance status retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  violations:
                    type: array
                    items:
                      type: object

  /api/asset/v1/compliance/violations/{entityType}/{entityId}:
    get:
      tags:
        - Compliance
      summary: Get compliance violations
      description: Get all compliance violations for an entity
      security:
        - bearerAuth: []
      parameters:
        - name: entityType
          in: path
          required: true
          schema:
            type: string
        - name: entityId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Violations retrieved
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object

  /api/asset/v1/compliance/metrics:
    get:
      tags:
        - Compliance
      summary: Get compliance metrics
      description: Get overall compliance metrics and statistics
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Metrics retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ComplianceMetrics'

  # ============================================================
  # DOCUMENT ENDPOINTS
  # ============================================================
  /api/asset/v1/documents:
    post:
      tags:
        - Documents
      summary: Upload document
      description: Upload a document for an asset or entity
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - file
                - entityType
                - entityId
              properties:
                file:
                  type: string
                  format: binary
                entityType:
                  type: string
                entityId:
                  type: integer
                  format: int64
                documentType:
                  type: string
                description:
                  type: string
      responses:
        '200':
          description: Document uploaded successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseWrapper'

  /api/asset/v1/documents/{id}:
    get:
      tags:
        - Documents
      summary: Get document by ID
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Document found
        '404':
          description: Document not found

    delete:
      tags:
        - Documents
      summary: Delete document
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Document deleted

  /api/asset/v1/documents/entity/{entityType}/{entityId}:
    get:
      tags:
        - Documents
      summary: Get documents for entity
      description: Get all documents associated with an entity
      security:
        - bearerAuth: []
      parameters:
        - name: entityType
          in: path
          required: true
          schema:
            type: string
        - name: entityId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: List of documents
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object

  # ============================================================
  # WARRANTY ENDPOINTS
  # ============================================================
  /api/asset/v1/warranty:
    post:
      tags:
        - Warranty
      summary: Create warranty
      description: Create warranty information for an asset
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - assetId
              properties:
                assetId:
                  type: integer
                  format: int64
                warrantyStartDate:
                  type: string
                  format: date
                warrantyEndDate:
                  type: string
                  format: date
                warrantyProvider:
                  type: string
                warrantyNumber:
                  type: string
      responses:
        '200':
          description: Warranty created

  /api/asset/v1/warranty/{id}:
    get:
      tags:
        - Warranty
      summary: Get warranty by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Warranty found

    put:
      tags:
        - Warranty
      summary: Update warranty
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
      responses:
        '200':
          description: Warranty updated

  # ============================================================
  # AMC ENDPOINTS
  # ============================================================
  /api/asset/v1/amc:
    post:
      tags:
        - AMC
      summary: Create AMC
      description: Create Annual Maintenance Contract for an asset
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - assetId
              properties:
                assetId:
                  type: integer
                  format: int64
                amcStartDate:
                  type: string
                  format: date
                amcEndDate:
                  type: string
                  format: date
                amcProvider:
                  type: string
                amcNumber:
                  type: string
      responses:
        '200':
          description: AMC created

  /api/asset/v1/amc/{id}:
    get:
      tags:
        - AMC
      summary: Get AMC by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: AMC found

    put:
      tags:
        - AMC
      summary: Update AMC
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
      responses:
        '200':
          description: AMC updated

  # ============================================================
  # STATUS ENDPOINTS
  # ============================================================
  /api/asset/v1/statuses:
    get:
      tags:
        - Status
      summary: List all statuses
      responses:
        '200':
          description: List of statuses

  /api/asset/v1/statuses/active:
    get:
      tags:
        - Status
      summary: List active statuses
      responses:
        '200':
          description: List of active statuses

  /api/asset/v1/statuses/category/{category}:
    get:
      tags:
        - Status
      summary: List statuses by category
      parameters:
        - name: category
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: List of statuses

  /api/asset/v1/statuses/code/{code}:
    get:
      tags:
        - Status
      summary: Get status by code
      parameters:
        - name: code
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Status found

  # ============================================================
  # ENTITY TYPE ENDPOINTS
  # ============================================================
  /api/asset/v1/entity-types:
    get:
      tags:
        - Entity Types
      summary: List all entity types
      responses:
        '200':
          description: List of entity types

  /api/asset/v1/entity-types/active:
    get:
      tags:
        - Entity Types
      summary: List active entity types
      responses:
        '200':
          description: List of active entity types

  /api/asset/v1/entity-types/code/{code}:
    get:
      tags:
        - Entity Types
      summary: Get entity type by code
      parameters:
        - name: code
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Entity type found

  # ============================================================
  # AUDIT ENDPOINTS
  # ============================================================
  /api/asset/v1/audit:
    get:
      tags:
        - Audit
      summary: Get all audit logs
      security:
        - bearerAuth: []
      responses:
        '200':
          description: List of audit logs
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object

  /api/asset/v1/audit/username/{username}:
    get:
      tags:
        - Audit
      summary: Get audit logs by username
      security:
        - bearerAuth: []
      parameters:
        - name: username
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: List of audit logs

  /api/asset/v1/audit/date-range:
    get:
      tags:
        - Audit
      summary: Get audit logs by date range
      security:
        - bearerAuth: []
      parameters:
        - name: startDate
          in: query
          required: true
          schema:
            type: string
            format: date-time
        - name: endDate
          in: query
          required: true
          schema:
            type: string
            format: date-time
      responses:
        '200':
          description: List of audit logs

  /api/asset/v1/audit/statistics:
    get:
      tags:
        - Audit
      summary: Get audit statistics
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Audit statistics
          content:
            application/json:
              schema:
                type: object

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    ResponseWrapper:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        data:
          type: object

    AssetRequest:
      type: object
      required:
        - categoryId
        - subCategoryId
        - makeId
        - modelId
        - assetNameUdv
      properties:
        categoryId:
          type: integer
          format: int64
        subCategoryId:
          type: integer
          format: int64
        makeId:
          type: integer
          format: int64
        modelId:
          type: integer
          format: int64
        assetNameUdv:
          type: string
        userId:
          type: integer
          format: int64
        username:
          type: string
        projectType:
          type: string

    AssetMaster:
      type: object
      properties:
        assetId:
          type: integer
          format: int64
        assetNameUdv:
          type: string
        category:
          type: object
        subCategory:
          type: object
        make:
          type: object
        model:
          type: object

    CategoryRequest:
      type: object
      required:
        - categoryName
      properties:
        categoryName:
          type: string
        description:
          type: string

    SubCategoryRequest:
      type: object
      required:
        - subCategoryName
        - categoryId
      properties:
        subCategoryName:
          type: string
        categoryId:
          type: integer
          format: int64

    MakeRequest:
      type: object
      required:
        - makeName
        - subCategoryId
      properties:
        makeName:
          type: string
        subCategoryId:
          type: integer
          format: int64

    ModelRequest:
      type: object
      required:
        - modelName
        - makeId
      properties:
        modelName:
          type: string
        makeId:
          type: integer
          format: int64

    VendorRequest:
      type: object
      required:
        - vendorName
      properties:
        vendorName:
          type: string
        contactPerson:
          type: string
        email:
          type: string
        phone:
          type: string
        address:
          type: string

    OutletRequest:
      type: object
      required:
        - outletName
      properties:
        outletName:
          type: string
        address:
          type: string
        contactPerson:
          type: string
        phone:
          type: string

    ComponentRequest:
      type: object
      required:
        - componentName
      properties:
        componentName:
          type: string
        description:
          type: string

    BulkUploadResponse:
      type: object
      properties:
        total:
          type: integer
        success:
          type: integer
        failed:
          type: integer
        results:
          type: array
          items:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
              data:
                type: object

    AssetUserUniversalLinkRequest:
      type: object
      required:
        - entityType
        - entityId
        - targetUserId
        - targetUsername
      properties:
        entityType:
          type: string
          enum: [ASSET, COMPONENT, MODEL, MAKE, AMC, WARRANTY, DOCUMENT]
        entityId:
          type: integer
          format: int64
        targetUserId:
          type: integer
          format: int64
        targetUsername:
          type: string
        userId:
          type: integer
          format: int64
        username:
          type: string

    AssetUserMultiLinkRequest:
      type: object
      required:
        - entityType
        - entityIds
        - targetUserId
        - targetUsername
      properties:
        entityType:
          type: string
        entityIds:
          type: array
          items:
            type: integer
            format: int64
        targetUserId:
          type: integer
          format: int64
        targetUsername:
          type: string

    AssetUserMultiDelinkRequest:
      type: object
      required:
        - entityType
        - entityIds
        - targetUserId
      properties:
        entityType:
          type: string
        entityIds:
          type: array
          items:
            type: integer
            format: int64
        targetUserId:
          type: integer
          format: int64

    ComplianceCheckRequest:
      type: object
      required:
        - entityType
        - entityId
      properties:
        entityType:
          type: string
        entityId:
          type: integer
          format: int64

    ComplianceCheckResult:
      type: object
      properties:
        compliant:
          type: boolean
        status:
          type: string
        violations:
          type: array
          items:
            type: object
        metrics:
          type: object

    ComplianceMetrics:
      type: object
      properties:
        totalEntities:
          type: integer
        compliantEntities:
          type: integer
        nonCompliantEntities:
          type: integer
        violationCount:
          type: integer
        violationsBySeverity:
          type: object
